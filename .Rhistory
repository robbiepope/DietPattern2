ffq4b <- ffq4b %>%
add_column(MILK = NA, .after = "Missing.ticks")
ffq4c <- ffq4c %>%
add_column(MILK = NA, .after = "Missing.ticks")
# Add tofu column for FFQ3c
ffq3c <- ffq3c %>%
add_column(TOFU = NA, .after = "LENTILS")
###############################################################################
# Title: Standardise Grams per Day Food Items for FFQ2, 3, 4
# Author: Robbie Pope
# Date: 2 October 2025
# Description: Make sure each df has matching food items. Missing food items
# represented as 0 intakes as this means that in that batch of FFQ no participants
# reported intake of this
################################################################################
rm(list=ls())
# Libraries
library(dplyr)
library(tidyr)
library(tibble)
# Load ffqs
setwd("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/")
ffq1 <- read.csv("!Documentation/FFQ_Data_Processing_Protocol/6_GramsDayFood/processed/ffq1_processed_foods_grams_per_day.csv")
ffq2 <- read.csv("!Documentation/FFQ_Data_Processing_Protocol/6_GramsDayFood/processed/ffq2_processed_foods_grams_per_day.csv")
ffq3 <- read.csv("!Documentation/FFQ_Data_Processing_Protocol/6_GramsDayFood/processed/ffq3_processed_foods_grams_per_day.csv")
ffq3b <- read.csv("!Documentation/FFQ_Data_Processing_Protocol/6_GramsDayFood/processed/ffq3b_processed_foods_grams_per_day.csv")
ffq3c <- read.csv("!Documentation/FFQ_Data_Processing_Protocol/6_GramsDayFood/processed/ffq3c_processed_foods_grams_per_day.csv")
ffq3d <- read.csv("!Documentation/FFQ_Data_Processing_Protocol/6_GramsDayFood/processed/ffq3d_processed_foods_grams_per_day.csv")
ffq4 <- read.csv("!Documentation/FFQ_Data_Processing_Protocol/6_GramsDayFood/processed/ffq4_processed_foods_grams_per_day.csv")
ffq4b <- read.csv("!Documentation/FFQ_Data_Processing_Protocol/6_GramsDayFood/processed/ffq4b_processed_foods_grams_per_day.csv")
ffq4c <- read.csv("!Documentation/FFQ_Data_Processing_Protocol/6_GramsDayFood/processed/ffq4c_processed_foods_grams_per_day.csv")
# Get_ColNames ------------------------------------------------------------
f2_cols <- colnames(ffq2)
f3_cols <- colnames(ffq3)
f3b_cols <- colnames(ffq3b)
f3c_cols <- colnames(ffq3c)
f3d_cols <- colnames(ffq3d)
f4_cols <- colnames(ffq4)
f4b_cols <- colnames(ffq4b)
f4c_cols <- colnames(ffq4c)
# Put them in a named list for easier comparison
all_cols <- list(
f2  = f2_cols,
f3  = f3_cols,
f3b = f3b_cols,
f3c = f3c_cols,
f3d = f3d_cols,
f4  = f4_cols,
f4b = f4b_cols,
f4c = f4c_cols
)
# Master list of all unique columns
master_cols <- unique(unlist(all_cols))
# Identify missing columns in each dataset
missing_cols <- lapply(all_cols, function(x) setdiff(master_cols, x))
# Identify extra columns (columns that others might not have)
extra_cols <- lapply(all_cols, function(x) setdiff(x, master_cols))
# Check which datasets have identical columns
identical_sets <- combn(names(all_cols), 2, function(pair) {
same <- setequal(all_cols[[pair[1]]], all_cols[[pair[2]]])
data.frame(
dataset1 = pair[1],
dataset2 = pair[2],
identical = same
)
}, simplify = FALSE)
identical_sets <- do.call(rbind, identical_sets)
# Need to adjust FFQ2, FFQ4b, and FFQ4c
# Update_ColNames ---------------------------------------------------------
# Add milk columns to the 4b and 4c FFQs
ffq4b <- ffq4b %>%
add_column(MILK = NA, .after = "Missing.ticks")
ffq4c <- ffq4c %>%
add_column(MILK = NA, .after = "Missing.ticks")
# Add tofu column for FFQ3c
ffq3c <- ffq3c %>%
add_column(TOFU = NA, .after = "LENTILS")
# Update_Col_Names --------------------------------------------------------
# Create vector of new column names so all foods are standardised
updated_column_names <- c("MILK",
"BEEF",
"BEEFBURGER",
"PORK",
"LAMB",
"CHICKEN_POULTRY",
"BACON_GAMMON",
"HAM_CURED_MEATS",
"CORNED_BEEF",
"SAUSAGES",
"SAVOURY_PIES",
"LIVER_OFFAL",
"FRIED_FISH",
"FISH_FINGERS_CAKES",
"WHITE_FISH",
"OILY_FISH",
"SHELLFISH",
"FISH_ROE",
"WHITE_BREAD",
"BROWN_BREAD",
"WHOLEMEAL_BREAD",
"CRACKERS",
"CRISPBREAD",
"PORRIDGE_OATS",
"CEREAL_BREAKFAST",
"POTATOES_BOILED_MASHED",
"CHIPS_ROAST_POTATOES",
"POTATO_SALAD",
"WHITE_RICE",
"BROWN_RICE",
"WHITE_PASTA",
"WHOLEMEAL_PASTA",
"LASAGNE_MOUSSAKA",
"PIZZA",
"SINGLE_CREAM",
"DOUBLE_CREAM",
"LOWFAT_YOGURT",
"FULLFAT_YOGURT",
"DAIRY_DESSERT",
"CHEESE",
"COTTAGE_CHEESE",
"EGGS",
"QUICHE",
"LOWFAT_SALAD_CREAM",
"MAYONAISE_FULLFAT_SALAD_CREAM",
"FRENCH_DRESSING",
"OTHER_DRESSING",
"BUTTER",
"MARGARINE_HARD",
"MARGARINE_POLYUNSATURATED",
"MARGARINE_OTHER",
"LOWFAT_SPREAD",
"VERY_LOWFAT_SPREAD",
"BISCUIT_CHOCOLATE",
"BISCUIT_PLAIN",
"CAKE_HOMEBAKED",
"CAKE_READYMADE",
"BAKERY_HOMEBAKED",
"BAKERY_READYMADE",
"FRUIT_PIES_HOMEBAKED",
"FRUIT_PIES_READYMADE",
"SPONGES_HOMEBAKED",
"SPONGES_READYMADE",
"MILK_PUDDINGS",
"ICE_CREAM",
"CHOCOLATE_DARK",
"CHOCOLATE_BARS",
"SWEETS_TOFFEES",
"SUGAR",
"CRISPS",
"NUTS_UNSALTED",
"SOUP_VEGETABLE",
"SOUP_MEAT",
"SAUCES",
"KETCHUP",
"PICKLES_CHUTNEY",
"MARMITE",
"JAM_HONEY",
"PEANUT_BUTTER",
"TEA",
"COFFEE_GROUND_INSTANT",
"COFFEE_DECAFF",
"COFFEE_WHITENER",
"COCOA_HOT_CHOCOLATE",
"HORLICKS",
"WINE_WHITE",
"BEER_CIDER",
"PORT",
"SPIRITS",
"LOWCAL_FIZZY_DRINKS",
"FIZZY_DRINKS",
"FRUIT_JUICE",
"FRUIT_SQUASH",
"APPLES",
"PEARS",
"ORANGES_MANDARINS",
"GRAPEFRUIT",
"BANANAS",
"GRAPES",
"MELONS",
"PEACHES_PLUMS_APRICOTS",
"BERRIES",
"TINNED_FRUIT",
"DRIED_FRUIT",
"CARROTS",
"SPINACH",
"BROCCOLI_KALE",
"SPROUTS",
"CABBAGE",
"PEAS",
"GREEN_BEANS_BROAD_BEANS",
"COURGETTE_MARROW",
"CAULIFLOWER",
"PARSNIPS_TURNIPS",
"LEEKS",
"ONIONS",
"GARLIC",
"MUSHROOMS",
"PEPPERS",
"BEANSPROUTS",
"GREEN_SALAD_CUCUMBER_CELERY",
"WATERCRESS",
"TOMATOES",
"SWEETCORN",
"BEETROOT",
"COLESLAW",
"AVOCADO",
"BEANS_BAKED",
"PULSES_LENTILS_BEANS_PEAS",
"TOFU_MEAT_SUBSTITUTE",
"WINE_RED",
"CHOCOLATE_MILK_WHITE",
"NUTS_SALTED",
"LOWFAT_CHEESE",
"REDUCED_FAT_BUTTER",
"SPREAD_OLIVE_OIL",
"SPREAD_CHOLESTEROL_LOWERING",
"NAAN_POPPADOM_TORTILLAS",
"TEA_GREEN",
"TEA_FRUIT",
"LOWFAT_COCOA_HOT_CHOCOLATE",
"REDUCED_FAT_BISCUIT",
"CEREAL_BAR",
"SEEDS",
"CEREAL_SUGAR_TOPPED",
"MUESLI",
"CEREAL_HIGH_FIBRE",
"SMOOTHIES"
)
# Update the column names of my dfs
colnames(ffq2)[21:168] <- updated_column_names
colnames(ffq3)[21:168] <- updated_column_names
colnames(ffq3b)[21:168] <- updated_column_names
colnames(ffq3c)[21:168] <- updated_column_names
colnames(ffq3d)[21:168] <- updated_column_names
colnames(ffq4)[21:168] <- updated_column_names
colnames(ffq4b)[21:168] <- updated_column_names
colnames(ffq4c)[21:168] <- updated_column_names
# Update_FFQ1 -------------------------------------------------------------
# CHECK WHY MILK IS MISSING
ffq1_colnames <- c(
"MILK",
"BEEF",
"BEEFBURGER",
"PORK",
"LAMB",
"CHICKEN_POULTRY",
"BACON_GAMMON",
"HAM_CURED_MEATS",
"CORNED_BEEF",
"SAUSAGES",
"SAVOURY_PIES",
"LIVER_OFFAL",
"FRIED_FISH",
"FISH_FINGERS_CAKES",
"WHITE_FISH",
"OILY_FISH",
"SHELLFISH",
"FISH_ROE",
"WHITE_BREAD",
"BROWN_BREAD",
"WHOLEMEAL_BREAD",
"CRACKERS",
"CRISPBREAD",
"PORRIDGE_OATS",
"CEREAL_BREAKFAST",
"POTATOES_BOILED_MASHED",
"CHIPS",
"ROAST_POTATOES",
"POTATO_SALAD",
"WHITE_RICE",
"BROWN_RICE",
"WHITE_PASTA",
"WHOLEMEAL_PASTA",
"LASAGNE_MOUSSAKA",
"PIZZA",
"SINGLE_CREAM",
"DOUBLE_CREAM",
"LOWFAT_YOGURT",
"FULLFAT_YOGURT",
"DAIRY_DESSERT",
"CHEESE",
"COTTAGE_CHEESE",
"EGGS",
"QUICHE",
"LOWFAT_SALAD_CREAM",
"MAYONAISE_FULLFAT_SALAD_CREAM",
"FRENCH_DRESSING",
"OTHER_DRESSING",
"BUTTER",
"MARGARINE_HARD",
"MARGARINE_POLYUNSATURATED",
"MARGARINE_OTHER",
"LOWFAT_SPREAD",
"VERY_LOWFAT_SPREAD",
"BISCUIT_CHOCOLATE",
"BISCUIT_PLAIN",
"CAKE_HOMEBAKED",
"CAKE_READYMADE",
"BAKERY_HOMEBAKED",
"BAKERY_READYMADE",
"FRUIT_PIES_HOMEBAKED",
"FRUIT_PIES_READYMADE",
"SPONGES_HOMEBAKED",
"SPONGES_READYMADE",
"MILK_PUDDINGS",
"ICE_CREAM",
"CHOCOLATES",
"CHOCOLATE_BARS",
"SWEETS_TOFFEES",
"SUGAR",
"CRISPS",
"NUTS",
"SOUP_VEGETABLE",
"SOUP_MEAT",
"SAUCES",
"KETCHUP",
"PICKLES_CHUTNEY",
"MARMITE",
"JAM_HONEY",
"PEANUT_BUTTER",
"TEA",
"COFFEE_GROUND_INSTANT",
"COFFEE_DECAFF",
"COFFEE_WHITENER",
"COCOA_HOT_CHOCOLATE",
"HORLICKS",
"WINE",
"BEER_CIDER",
"PORT",
"SPIRITS",
"LOWCAL_FIZZY_DRINKS",
"FIZZY_DRINKS",
"FRUIT_JUICE",
"FRUIT_SQUASH",
"APPLES",
"PEARS",
"ORANGES_MANDARINS",
"GRAPEFRUIT",
"BANANAS",
"GRAPES",
"MELONS",
"PEACHES_PLUMS_APRICOTS",
"BERRIES",
"TINNED_FRUIT",
"DRIED_FRUIT",
"CARROTS",
"SPINACH",
"BROCCOLI_KALE",
"SPROUTS",
"CABBAGE",
"PEAS",
"GREEN_BEANS_BROAD_BEANS",
"COURGETTE_MARROW",
"CAULIFLOWER",
"PARSNIPS_TURNIPS",
"LEEKS",
"ONIONS",
"GARLIC",
"MUSHROOMS",
"PEPPERS",
"BEANSPROUTS",
"GREEN_SALAD_CUCUMBER_CELERY",
"WATERCRESS",
"TOMATOES",
"SWEETCORN",
"BEETROOT",
"COLESLAW",
"AVOCADO",
"BEANS_BAKED",
"PULSES_LENTILS_BEANS_PEAS",
"TOFU_MEAT_SUBSTITUTE"
)
colnames(ffq1)[21:151] <- ffq1_colnames
# Update UniqueKey to FFQ_ID
colnames(ffq1)[1] <- 'FFQ_ID'
colnames(ffq2)[1] <- 'FFQ_ID'
colnames(ffq3)[1] <- 'FFQ_ID'
colnames(ffq3b)[1] <- 'FFQ_ID'
colnames(ffq3c)[1] <- 'FFQ_ID'
colnames(ffq3d)[1] <- 'FFQ_ID'
colnames(ffq4)[1] <- 'FFQ_ID'
colnames(ffq4b)[1] <- 'FFQ_ID'
colnames(ffq4c)[1] <- 'FFQ_ID'
# Export ------------------------------------------------------------------
setwd("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/!Documentation/FFQ_Data_Processing_Protocol/6_GramsDayFood/final")
write.csv(ffq1, "ffq1_processed_foods_grams_per_day.csv", row.names = FALSE)
write.csv(ffq2, "ffq2_processed_foods_grams_per_day.csv", row.names = FALSE)
write.csv(ffq3, "ffq3_processed_foods_grams_per_day.csv", row.names = FALSE)
write.csv(ffq3b, "ffq3b_processed_foods_grams_per_day.csv", row.names = FALSE)
write.csv(ffq3c, "ffq3c_processed_foods_grams_per_day.csv", row.names = FALSE)
write.csv(ffq3d, "ffq3d_processed_foods_grams_per_day.csv", row.names = FALSE)
write.csv(ffq4, "ffq4_processed_foods_grams_per_day.csv", row.names = FALSE)
write.csv(ffq4b, "ffq4b_processed_foods_grams_per_day.csv", row.names = FALSE)
write.csv(ffq4c, "ffq4c_processed_foods_grams_per_day.csv", row.names = FALSE)
library(dplyr)
# TESTING
rm(list=ls())
ffq1 <- read.csv("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/!Documentation/FFQ_Data_Processing_Protocol/6_GramsDayFood/final/ffq1_processed_foods_grams_per_day.csv")
#ffq2 <- read.csv("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/!Documentation/FFQ_Data_Processing_Protocol/6_GramsDayFood/final/ffq2_processed_foods_grams_per_day.csv")
#ffq3 <- read.csv("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/!Documentation/FFQ_Data_Processing_Protocol/6_GramsDayFood/final/ffq3_processed_foods_grams_per_day.csv")
#ffq3b <- read.csv("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/!Documentation/FFQ_Data_Processing_Protocol/6_GramsDayFood/final/ffq3b_processed_foods_grams_per_day.csv")
#ffq3c <- read.csv("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/!Documentation/FFQ_Data_Processing_Protocol/6_GramsDayFood/final/ffq3c_processed_foods_grams_per_day.csv")
#ffq3d <- read.csv("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/!Documentation/FFQ_Data_Processing_Protocol/6_GramsDayFood/final/ffq3d_processed_foods_grams_per_day.csv")
#ffq4 <- read.csv("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/!Documentation/FFQ_Data_Processing_Protocol/6_GramsDayFood/final/ffq4_processed_foods_grams_per_day.csv")
source("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/1_LEAP_Github/RLibrary/DietPattern/get_food_bev_groups.R")
source("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/1_LEAP_Github/RLibrary/DietPattern/calculate_pdi.R")
testf1 <- get_food_bev_groups(ffq1, stnd_groups = 'Y')
# Assign food groups into healthy/less healthy/animal categories
long_df <- assign_health_groups(testf1)
# Assign percentile of intake (rank within each food group)
long_df <- assign_percentile(long_df, perc = 0.2)
View(long_df)
View(testf1)
# Assign scores for PDI, hPDI, uPDI
long_df <- assign_pdi_scores(long_df)
#  Sum scores per individual to get total indices
df_scores <- sum_pdi_scores(long_df)
View(df_scores)
mean(df_scores$hPDI)
mean(df_scores$uPDI)
mean(df_scores$PDI)
testf2 <- get_food_bev_groups(ffq2, stnd_groups = 'Y')
library(dplyr)
# TESTING
rm(list=ls())
ffq1 <- read.csv("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/!Documentation/FFQ_Data_Processing_Protocol/6_GramsDayFood/final/ffq1_processed_foods_grams_per_day.csv")
ffq2 <- read.csv("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/!Documentation/FFQ_Data_Processing_Protocol/6_GramsDayFood/final/ffq2_processed_foods_grams_per_day.csv")
#ffq3 <- read.csv("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/!Documentation/FFQ_Data_Processing_Protocol/6_GramsDayFood/final/ffq3_processed_foods_grams_per_day.csv")
#ffq3b <- read.csv("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/!Documentation/FFQ_Data_Processing_Protocol/6_GramsDayFood/final/ffq3b_processed_foods_grams_per_day.csv")
#ffq3c <- read.csv("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/!Documentation/FFQ_Data_Processing_Protocol/6_GramsDayFood/final/ffq3c_processed_foods_grams_per_day.csv")
#ffq3d <- read.csv("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/!Documentation/FFQ_Data_Processing_Protocol/6_GramsDayFood/final/ffq3d_processed_foods_grams_per_day.csv")
#ffq4 <- read.csv("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/!Documentation/FFQ_Data_Processing_Protocol/6_GramsDayFood/final/ffq4_processed_foods_grams_per_day.csv")
source("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/1_LEAP_Github/RLibrary/DietPattern/get_food_bev_groups.R")
source("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/1_LEAP_Github/RLibrary/DietPattern/calculate_pdi.R")
testf1 <- get_food_bev_groups(ffq1, stnd_groups = 'Y')
testf2 <- get_food_bev_groups(ffq2, stnd_groups = 'Y')
# Assign food groups into healthy/less healthy/animal categories
long_df <- assign_health_groups(testf1)
View(testf1)
# Assign percentile of intake (rank within each food group)
long_df <- assign_percentile(long_df, perc = 0.2)
# Assign scores for PDI, hPDI, uPDI
long_df <- assign_pdi_scores(long_df)
#  Sum scores per individual to get total indices
df_scores <- sum_pdi_scores(long_df)
# Assign food groups into healthy/less healthy/animal categories
long_df <- assign_health_groups(testf2)
# Assign percentile of intake (rank within each food group)
long_df <- assign_percentile(long_df, perc = 0.2)
# Assign scores for PDI, hPDI, uPDI
long_df <- assign_pdi_scores(long_df)
#  Sum scores per individual to get total indices
df_scores <- sum_pdi_scores(long_df)
mean(df_scores$)
mean(df_scores$hPDI)
library(dplyr)
# TESTING
rm(list=ls())
ffq1 <- read.csv("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/!Documentation/FFQ_Data_Processing_Protocol/6_GramsDayFood/final/ffq1_processed_foods_grams_per_day.csv")
ffq2 <- read.csv("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/!Documentation/FFQ_Data_Processing_Protocol/6_GramsDayFood/final/ffq2_processed_foods_grams_per_day.csv")
source("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/1_LEAP_Github/RLibrary/DietPattern/calculate_DASH.R")
ffq2.nutr <- read.csv("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/\!Documentation/FFQ_Data_Processing_Protocol/7_Nutrient_Estimates/cleaned/ffq2_processed_daily_nutrient_estimates.csv")
library(dplyr)
# TESTING
rm(list=ls())
ffq1 <- read.csv("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/!Documentation/FFQ_Data_Processing_Protocol/6_GramsDayFood/final/ffq1_processed_foods_grams_per_day.csv")
ffq2 <- read.csv("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/!Documentation/FFQ_Data_Processing_Protocol/6_GramsDayFood/final/ffq2_processed_foods_grams_per_day.csv")
ffq2.nutr <- read.csv("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/!Documentation/FFQ_Data_Processing_Protocol/7_Nutrient_Estimates/cleaned/ffq2_processed_daily_nutrient_estimates.csv")
View(ffq2.nutr)
View(ffq2)
library(dplyr)
# TESTING
rm(list=ls())
ffq1 <- read.csv("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/!Documentation/FFQ_Data_Processing_Protocol/6_GramsDayFood/final/ffq1_processed_foods_grams_per_day.csv")
ffq2 <- read.csv("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/!Documentation/FFQ_Data_Processing_Protocol/6_GramsDayFood/final/ffq2_processed_foods_grams_per_day.csv")
ffq2.nutr <- read.csv("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/!Documentation/FFQ_Data_Processing_Protocol/7_Nutrient_Estimates/cleaned/ffq2_processed_daily_nutrient_estimates.csv")
source("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/1_LEAP_Github/RLibrary/DietPattern/calculate_DASH.R")
library(dplyr)
# TESTING
rm(list=ls())
ffq1 <- read.csv("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/!Documentation/FFQ_Data_Processing_Protocol/6_GramsDayFood/final/ffq1_processed_foods_grams_per_day.csv")
ffq2 <- read.csv("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/!Documentation/FFQ_Data_Processing_Protocol/6_GramsDayFood/final/ffq2_processed_foods_grams_per_day.csv")
ffq2.nutr <- read.csv("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/!Documentation/FFQ_Data_Processing_Protocol/7_Nutrient_Estimates/cleaned/ffq2_processed_daily_nutrient_estimates.csv")
source("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/1_LEAP_Github/RLibrary/DietPattern/calculate_DASH.R")
testf2 <- get_dash_components(est.intakes = ffq2,
nutr.intakes = ffq2.nutr,
stnd_components = 'Y')
library(dplyr)
# TESTING
rm(list=ls())
ffq1 <- read.csv("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/!Documentation/FFQ_Data_Processing_Protocol/6_GramsDayFood/final/ffq1_processed_foods_grams_per_day.csv")
ffq2 <- read.csv("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/!Documentation/FFQ_Data_Processing_Protocol/6_GramsDayFood/final/ffq2_processed_foods_grams_per_day.csv")
ffq2.nutr <- read.csv("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/!Documentation/FFQ_Data_Processing_Protocol/7_Nutrient_Estimates/cleaned/ffq2_processed_daily_nutrient_estimates.csv")
source("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/1_FFq_Data/1_LEAP_Github/RLibrary/DietPattern/calculate_DASH.R")
testf2 <- get_dash_components(est.intakes = ffq2,
nutr.intakes = ffq2.nutr,
stnd_components = 'Y')
View(testf2)
##############################################################################
# Title: Get KEGG Pathways
# Author: Robbie Pope
# Date: 27 October 2025
################################################################################
rm(list=ls())
# Load libraries
#BiocManager::install("KEGGREST")
library(KEGGREST)
library(dplyr)
# Load data
setwd("/Users/k23108931/Library/CloudStorage/OneDrive-King\'sCollegeLondon/4_PhD_Analysis/7_GutProteins_Associations/")
assocs <- read.csv("results/1_Associations/gutprot_kegg_pathway_results.csv")
View(assocs)
